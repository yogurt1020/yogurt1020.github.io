---
layout: post
title: "자바스크립트 call과 apply, bind"
date: 2018-12-24
categories:
---
##자바스크립트의 바인딩과 call, apply, bind 메소드

자바스크립트립트에서는 일반적으로 자신을 호출한 객체에 함수가 바인딩 되는데, 함수를 어디서 어떻게 호출했는지와 같이 일반적인 방법이 아닌, 다른 방식으로 this를 바인딩할 수 있는 방법을 제공한다.

0. 일반적인 바인딩방법

함수 호출시 객체의 프로퍼티에 할당된 함수에 호출한 객체가 암시적으로 바인딩된다.

[예제코드]
```javascript
function test() {
  console.log(this.name);
}

var obj = {
  name : "james",
  f : test
}

obj.f();
```
[출력결과]
> james

그러나 다음과 같이 obj객체의 프로퍼티에 test를 할당하였어도, 이 객체의 함수를 외부 레퍼런스에서 참조하는 경우 일반함수가 된다.

[예제코드]
```javascript
function test() {
  console.log(this.name);
}

var obj = {
  name : "james",
  f : test
}

var newobj = obj.f;

newobj();
```
[출력결과]
> undefined

1. call() 메소드

함수의 호출과 동시에 call을 사용하여, 함수 내에서 this로 사용될 객체를 넘겨준다. call의 매개변수로 전달된 객체가 해당 함수의 this와 명시적으로 바인딩된다.

예제
```javascript
const melon = { name : "Melon" };
const banana = { name : "banana" };

function fruit() {
    return `This fruit is ${this.name}`;
}

console.log(fruit());
console.log(fruit.call(melon));
console.log(fruit.call(banana));
```
출력결과
> This fruit is undefined
> This fruit is Melon
> This fruit is banana

call 메소드에 전달되는 매개변수가 한 개 이상이면, 첫번째를 제외한 나머지는 호출하는 함수로 전달된다.

[예제]
```javascript
const melon = { name : "Melon" };

function fruit(rating) {
    return `This fruit is ${this.name} and rating is ${rating}`;
}

console.log(fruit.call(melon, 10));
```
[출력결과]
> This fruit Melon and rating is 10

2. apply() 메소드

call 메소드와 달리 첫번째 매개변수로 전달되는 this로 바인딩할 객체를 뺀 함수로 전달되는 나머지 매개변수를 배열로 받는다.

[예제]
```javascript
const melon = { name : "Melon" };

function fruit(rating, location) {
  return `This fruit is ${this.name}, its rating is ${rating} and made in ${location}`;
}

console.log(fruit.apply(melon, [8, 'korea']));
```

3. bind() 메소드

call, apply 메소드와 달리, 매개변수로 주어진 객체가 해당 함수의 this에 영구적으로 바인딩된 사본을 생성한다.

[예제코드]
```javascript
var module = {
  x: 42,
  getX: function() {
    return this.x;
  }
}

var unboundGetX = module.getX;
console.log(unboundGetX());

var boundGetX = unboundGetX.bind(module);
console.log(boundGetX());
```
[출력결과]
> undefined
> 42
